<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../main.css">
    <link rel="shortcut icon" href="../favicon-16x16.png" type="image/x-icon">
    <link rel="shortcut icon" href="../favicon-32x32.png" type="image/x-icon">
    <title>Кононов Данил Александрович. Лабораторная работа 7</title>
		<script>
			function showExchange() {
				const exchange = [
				7824, 7872, 8057, 8082, 8090, 
				8199.5, 8145.5, 8230, 8355, 8444
				];
				const date = [
					'29.05.2024', '27.05.2024', '24.05.2024', '23.05.2024', '22.05.2024', 
					'21.05.2024', '18.05.2024', '17.05.2024', '16.05.2024', '15.05.2024'
				];
				let table = document.getElementById('table-magnet');
				for(let i = 0; i < exchange.length; i++) {
					let tr = document.createElement('tr');
					let td1 = document.createElement('td');
					td1.innerText = date[i];
					tr.appendChild(td1);
					table.appendChild(tr);

					let td2 = document.createElement('td');
					td2.innerText = exchange[i];
					tr.appendChild(td2);
					table.appendChild(tr);

					if (i > 0) {
            let diff = exchange[i] - exchange[i-1];
            let td3 = document.createElement('td');
            td3.innerText = diff.toFixed(2);
            tr.appendChild(td3);
          } 
					else {
            let td3 = document.createElement('td');
            td3.innerText = '-';
            tr.appendChild(td3);
          }

            table.appendChild(tr);

					let sum = 0;
					for(let i = 0; i < exchange.length; i++) {
						sum += exchange[i];
					}

					let avarage = sum/exchange.length
					avarage = avarage.toFixed(2)
					detail.innerHTML = "Среднее значение: " + avarage
					max.innerText = "Максимльное значение: " + Math.max(...exchange);
					min.innerText = "Максимльное значение: " + Math.min(...exchange);
					}

			}
		</script>
		<style>
			table,div{
				margin: 10px;
				color: rgb(244, 0, 0);
			}
		</style>
</head>
<body>
    <header>
        НГТУ, ФБ, Лабораторная работа 7
    </header>
    <main>
			<button onclick="showExchange()" id="button">Курс акций Магнита</button>
			<table border="1" id="table-magnet"></table>
			<div id="detail"></div>
			<div id="max"></div>
			<div id="min"></div>
    </main>
    <footer>
        &copy; Кононов Данил, ФБИ-21, 2 курс, 2024
    </footer>
</body>
</html>